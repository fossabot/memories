<html>
<head>
<title>Memory</title>
<script src="memory.js"></script>
<link rel="stylesheet" type="text/css" href="memories.css">
<script>
var twoDigit = function(i){
	if (i<10){
		return "0"+i;
	} else {
		return ""+i;
	}
};
var empty = function(element) {
	while (element.firstChild){
		element.removeChild(element.firstChild);
	}
};
document.addEventListener('DOMContentLoaded', function(){
	var start = document.getElementById("start");
	var grid = document.getElementById("grid");
	var number = document.getElementById("number");
	var startNewGame = function(){
		start.innerText = "Restart";
		empty(grid);
		var images = [];
		
		var numberOfImages = parseInt(number.value, 10);
		var url = function(i) {
			return "images/butterfly-"+twoDigit(i+1)+".jpg";
			//return "http://eofdreams.com/data_images/dreams/butterfly/butterfly-0"+(i+1)+".jpg";
		};
		for (var i=0; i != numberOfImages; ++i) {
			images.push(url(i));
		};
		var game = memory({
			images: images, 
			whenFinished: function(){
				start.innerText = "Start";
			}
		});
		game.build(grid);
		game.start();
	};
	start.addEventListener("click", startNewGame);
	startNewGame();
});
</script>
</head>
<body>
<div id="control">
<button id="start">Start</button><br>
Number of images: <input id="number" type="number" value="8"></input>
</div>
<div id="game">
<div id="grid"></div>
</div>


</body>
</html>
